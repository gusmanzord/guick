#set( $js  = "$")
#set( $entityBeanName = ${util.uncapitalize($entity.name)} )
#set( $projectBeanName = ${util.uncapitalize($project.name)} )
<!-- sessÃµes -->
<section class="content-header">
    <h1><i class="fa fa-user"></i> : ${entity.name} </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-home"></i> Home</a></li>
        <li class="active">${entity.name}</li>
    </ol>
</section>

<section class="content">
    <div ng-controller="${entityBeanName}Controller">
        <form name="${entityBeanName}Form" novalidate>
            <tabset>
                <tab heading="Principal">
                    <div class="nav-tabs-custom">
                        <div class="tab-content">
                            <div class="box box-primary">
                                <div class="box-header"><h3 class="box-title"></h3></div>
                                <div class="box-body">
                                    <div class="row">
                                            <div ng-include src="'views/crud/${entity.name}/${entity.name}Fieldset.html'"></div>
                                    </div>
                                </div>
                                <div class="box-footer">
                                    <div class="form-group">
                                        <button class="btn btn-primary" back><span class="fa fa-chevron-circle-left"></span> Voltar</button>
                                        <button class="btn btn-danger" ng-click="remove()"><span class="fa fa-sign-out"></span> Remover</button>
                                        <button class="btn btn-success" ng-click="save()"><span class="fa fa-chevron-circle-right"></span> Gravar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </tab>
#if( ${entity.looksLikeMainEntity()} )
#foreach( ${complexProperty} in ${entity.getOneToManyProperties()})
#set( $beanName = ${util.uncapitalize(${complexProperty.referedEntity.name})} )
                <tab heading="${complexProperty.referedEntity.title}" ng-click="find${complexProperty.referedEntity.name}()">
                    <div class="nav-tabs-custom">
                        <div class="tab-content">
                            <div class="box box-primary">
                                <div class="box-header"><h3 class="box-title">Lista de ${complexProperty.referedEntity.name}</h3></div>
                                <div class="box-body">
                                    <div class="gridStyle" ng-grid="grid${beanName}Options"></div>
                                </div>
                                <div class="box-footer">
                                    <div class="form-group">
                                        <button class="btn btn-primary" back><span class="fa fa-chevron-circle-left"></span> Voltar</button>
                                        <button class="btn btn-danger" ng-click="remove()"><span class="fa fa-sign-out"></span> Remover</button>
                                        <button class="btn btn-success" ng-click="save()"><span class="fa fa-chevron-circle-right"></span> Gravar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </tab>
#end
#foreach( ${complexProperty} in ${entity.getManyToOneProperties()})
#if(!${complexProperty.referedEntity.looksLikeEnum()} )
#set( $beanName = ${util.uncapitalize(${ent.referedEntity.name})} )
                <tab heading="${complexProperty.referedEntity.title}" >
                    <div class="nav-tabs-custom">
                        <div class="tab-content">
                            <div class="box box-primary">
                                <div class="box-header"><h3 class="box-title">${complexProperty.referedEntity.title}</h3></div>
                                <div class="box-body">
                                    <div class="row">
#foreach( ${property} in ${complexProperty.referedEntity.properties})
                                        <div class="col-md-#if(${property.column.length} >= 100)4#{else}3#{end}">
                                            <div class="form-group">
                                                <label class="control-label">${property.title}</label>
                                                {{entity.${complexProperty}.${property}}}
                                            </div>
                                        </div>
#end
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </tab>
#end
#end
#end
            </tabset>
        </form>

#if( ${entity.looksLikeMainEntity()} )
#foreach( ${complexProperty} in ${entity.getOneToManyProperties()})
#set( $beanName = ${util.uncapitalize(${complexProperty.referedEntity.name})} )
        <script type="text/ng-template" id="create${complexProperty.referedEntity.name}Modal.html">
            <div class="modal-header">
                <h4 class="modal-title">${complexProperty.referedEntity.title}</h4>
            </div>
            <div class="modal-body">
                <div class="box box-primary">
                    <div class="box-header"></div>
                    <div class="box-body">
                        <div class="row">
                            <div ng-include src="'views/crud/${complexProperty.referedEntity.name}/${complexProperty.referedEntity.name}Fieldset.html'"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" ng-click="$event.stopPropagation(); cancel()"><i class="fa fa-ban"></i> Cancelar</button>
                <button class="btn btn-success" ng-click="$event.stopPropagation(); save()"><i class="glyphicon glyphicon-save"></i> Gravar</button>
            </div>
        </script>
#end
#end
    </div>
</section>

